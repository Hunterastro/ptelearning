# ğŸ¯ è‹±è¯­å­¦ä¹ ç³»ç»Ÿ - å®Œæ•´æ“ä½œæŒ‡å—

## ğŸš€ å¯åŠ¨ç³»ç»Ÿ

### æ–¹æ³•ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# åŒå‡»è¿è¡Œ
complete-fix.bat
```

### æ–¹æ³•äºŒï¼šåˆ†æ­¥å¯åŠ¨
```bash
# 1. å¯åŠ¨åç«¯ï¼ˆç¬¬ä¸€ä¸ªç»ˆç«¯ï¼‰
start-backend.bat

# 2. å¯åŠ¨å‰ç«¯ï¼ˆç¬¬äºŒä¸ªç»ˆç«¯ï¼‰  
test-frontend.bat
```

### æ–¹æ³•ä¸‰ï¼šæ‰‹åŠ¨å¯åŠ¨
```bash
# ç»ˆç«¯1ï¼šåç«¯
$env:PATH = "C:\Program Files\nodejs;" + $env:PATH
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser -Force
npm run dev

# ç»ˆç«¯2ï¼šå‰ç«¯
cd frontend
npm start
```

## ğŸ”— è®¿é—®åœ°å€

- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **åç«¯API**: http://localhost:5000/api
- **MongoDB**: é»˜è®¤ç«¯å£ 27017

## ğŸ‘¤ ç”¨æˆ·ç®¡ç†

### æ³¨å†Œæ–°ç”¨æˆ·
1. è®¿é—® http://localhost:3000
2. ç‚¹å‡»"ç«‹å³æ³¨å†Œ"
3. å¡«å†™ï¼šç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ã€ç¡®è®¤å¯†ç 
4. æäº¤æ³¨å†Œ

### è®¾ç½®ç®¡ç†å‘˜æƒé™

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨MongoDB Compassï¼ˆæ¨èï¼‰
1. ä¸‹è½½å®‰è£… [MongoDB Compass](https://www.mongodb.com/try/download/compass)
2. è¿æ¥åˆ°æ•°æ®åº“ï¼š`mongodb://localhost:27017`
3. é€‰æ‹©æ•°æ®åº“ï¼š`english-learning`
4. æ‰“å¼€é›†åˆï¼š`users`
5. æ‰¾åˆ°æ‚¨çš„ç”¨æˆ·è®°å½•
6. ç¼–è¾‘æ–‡æ¡£ï¼Œå°† `role` å­—æ®µæ”¹ä¸º `"admin"`

#### æ–¹æ³•äºŒï¼šä½¿ç”¨MongoDB Shell
```bash
# æ‰“å¼€MongoDB Shell
mongo

# é€‰æ‹©æ•°æ®åº“
use english-learning

# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
db.users.find().pretty()

# è®¾ç½®ç®¡ç†å‘˜ï¼ˆæ›¿æ¢emailä¸ºæ‚¨çš„é‚®ç®±ï¼‰
db.users.updateOne(
  {email: "your-email@example.com"},
  {$set: {role: "admin"}}
)

# éªŒè¯è®¾ç½®
db.users.findOne({email: "your-email@example.com"})
```

#### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨APIï¼ˆéœ€è¦å…ˆæœ‰ä¸€ä¸ªç®¡ç†å‘˜ï¼‰
```bash
# POST /api/user/make-admin
curl -X POST http://localhost:5000/api/user/make-admin \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"userId": "USER_ID"}'
```

## ğŸ“Š MongoDB æ•°æ®åº“æ“ä½œ

### è¿æ¥æ•°æ®åº“
```bash
# æ–¹æ³•1ï¼šMongoDB Shell
mongo mongodb://localhost:27017/english-learning

# æ–¹æ³•2ï¼šMongoDB Compass GUI
# è¿æ¥å­—ç¬¦ä¸²ï¼šmongodb://localhost:27017
```

### æŸ¥çœ‹æ•°æ®
```javascript
// æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
db.users.find().pretty()

// æŸ¥çœ‹è¯æ±‡è¡¨
db.wordlists.find().pretty()

// æŸ¥çœ‹å•è¯
db.words.find().pretty()

// æŸ¥çœ‹å­¦ä¹ è¿›åº¦
db.learningprogresses.find().pretty()

// æŒ‰æ¡ä»¶æŸ¥è¯¢ç”¨æˆ·
db.users.find({role: "admin"}).pretty()
db.users.find({email: "test@example.com"}).pretty()

// æŸ¥çœ‹å­¦ä¹ ç»Ÿè®¡
db.learningprogresses.aggregate([
  {$group: {
    _id: "$userId",
    totalWords: {$sum: {$size: "$words"}},
    completionRate: {$avg: "$completionRate"}
  }}
])
```

### æ•°æ®åº“ç»´æŠ¤
```javascript
// æ¸…ç©ºæµ‹è¯•æ•°æ®
db.users.deleteMany({email: /test/})
db.wordlists.deleteMany({})
db.words.deleteMany({})
db.learningprogresses.deleteMany({})

// é‡ç½®ç”¨æˆ·å¯†ç ï¼ˆéœ€è¦é‡æ–°åŠ å¯†ï¼‰
db.users.updateOne(
  {email: "user@example.com"},
  {$set: {password: "new_hashed_password"}}
)

// åˆ é™¤ç‰¹å®šè¯æ±‡è¡¨
db.wordlists.deleteOne({_id: ObjectId("è¯æ±‡è¡¨ID")})

// æŸ¥çœ‹æ•°æ®åº“ç»Ÿè®¡
db.stats()
```

## ğŸ“š è¯æ±‡è¡¨ç®¡ç†

### ä¸Šä¼ Excelæ–‡ä»¶
1. ä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•
2. è¿›å…¥ç®¡ç†é¢æ¿
3. ç‚¹å‡»"ä¸Šä¼ è¯æ±‡è¡¨"
4. é€‰æ‹©Excelæ–‡ä»¶ï¼ˆæ”¯æŒ.xlsx, .xls, .csvï¼‰
5. ç¡®è®¤æ•°æ®æ ¼å¼ï¼š
   - ç¬¬1åˆ—ï¼šè‹±æ–‡çŸ­è¯­
   - ç¬¬2åˆ—ï¼šä¸­æ–‡é‡Šä¹‰  
   - ç¬¬3åˆ—ï¼šä¾‹å¥
   - ç¬¬4åˆ—ï¼šä¾‹å¥ç¿»è¯‘

### Excelæ–‡ä»¶æ ¼å¼ç¤ºä¾‹
```
è‹±æ–‡çŸ­è¯­        | ä¸­æ–‡é‡Šä¹‰     | ä¾‹å¥                                    | ä¾‹å¥ç¿»è¯‘
make a decision | åšå†³å®š       | I need to make a decision about my job. | æˆ‘éœ€è¦å¯¹æˆ‘çš„å·¥ä½œåšä¸ªå†³å®šã€‚
take advantage  | åˆ©ç”¨ï¼Œå ä¾¿å®œ  | Take advantage of this opportunity.    | åˆ©ç”¨è¿™ä¸ªæœºä¼šã€‚
```

## ğŸ”§ ç³»ç»Ÿè°ƒè¯•

### æŸ¥çœ‹æ—¥å¿—
```bash
# åç«¯æ—¥å¿—åœ¨ç»ˆç«¯ä¸­ç›´æ¥æ˜¾ç¤º
# å‰ç«¯é”™è¯¯åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹ï¼ˆF12ï¼‰
```

### å¸¸è§é—®é¢˜è§£å†³

#### å‰ç«¯æ— æ³•è¿æ¥åç«¯
```bash
# æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
curl http://localhost:5000/api/health

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :5000
netstat -ano | findstr :3000
```

#### MongoDBè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MongoDBæœåŠ¡
sc query MongoDB

# å¯åŠ¨MongoDB
net start MongoDB

# æ£€æŸ¥ç«¯å£
netstat -ano | findstr :27017
```

#### npmå‘½ä»¤æ— æ³•è¯†åˆ«
```bash
# è®¾ç½®Node.jsè·¯å¾„
$env:PATH = "C:\Program Files\nodejs;" + $env:PATH
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser -Force
```

### é‡ç½®ç³»ç»Ÿ
```bash
# å®Œå…¨é‡ç½®å¹¶é‡æ–°å®‰è£…
complete-fix.bat
```

## ğŸ“ˆ å­¦ä¹ æ•°æ®åˆ†æ

### æŸ¥çœ‹å­¦ä¹ è¿›åº¦
```javascript
// ç”¨æˆ·å­¦ä¹ ç»Ÿè®¡
db.learningprogresses.find({userId: ObjectId("ç”¨æˆ·ID")}).pretty()

// è¯æ±‡è¡¨å­¦ä¹ ç»Ÿè®¡  
db.learningprogresses.aggregate([
  {$match: {wordlistId: ObjectId("è¯æ±‡è¡¨ID")}},
  {$group: {
    _id: "$wordlistId",
    totalUsers: {$sum: 1},
    avgCompletion: {$avg: "$completionRate"},
    avgScore: {$avg: "$averageScore"}
  }}
])

// å•è¯æŒæ¡æƒ…å†µ
db.learningprogresses.aggregate([
  {$unwind: "$words"},
  {$group: {
    _id: "$words.status",
    count: {$sum: 1}
  }}
])
```

## ğŸ”’ å®‰å…¨è®¾ç½®

### ç”Ÿäº§ç¯å¢ƒé…ç½®
```env
# .envæ–‡ä»¶é…ç½®
NODE_ENV=production
JWT_SECRET=å¤æ‚çš„éšæœºå­—ç¬¦ä¸²
JWT_REFRESH_SECRET=å¦ä¸€ä¸ªå¤æ‚çš„éšæœºå­—ç¬¦ä¸²
MONGODB_URI=mongodb://username:password@localhost:27017/english-learning
```

### å¤‡ä»½æ•°æ®åº“
```bash
# å¯¼å‡ºæ•°æ®
mongodump --db english-learning --out backup/

# å¯¼å…¥æ•°æ®
mongorestore backup/english-learning/
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ç³»ç»Ÿè¦æ±‚
- **Node.js**: v16.0.0+
- **MongoDB**: v4.4.0+
- **æµè§ˆå™¨**: Chrome, Firefox, Safari, Edge

### æ€§èƒ½ä¼˜åŒ–
- å®šæœŸæ¸…ç†å­¦ä¹ å†å²è®°å½•
- ä¼˜åŒ–è¯æ±‡è¡¨å¤§å°ï¼ˆå»ºè®®<2000è¯ï¼‰
- ä½¿ç”¨MongoDBç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢

---

**ğŸŠ äº«å—æ‚¨çš„è‹±è¯­å­¦ä¹ ä¹‹æ—…ï¼** 